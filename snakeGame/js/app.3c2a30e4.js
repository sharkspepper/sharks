(function(e){function t(t){for(var n,i,a=t[0],c=t[1],l=t[2],d=0,u=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);h&&h(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,a=1;a<s.length;a++){var c=s[a];0!==o[c]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},o={app:0},r=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="snakeGame/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var h=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"079f":function(e,t,s){"use strict";s("fa71")},cd49:function(e,t,s){"use strict";s.r(t);var n=s("7a23");const o={class:"msg"};function r(e,t,s,r,i,a){const c=Object(n["v"])("SnakeGame");return Object(n["r"])(),Object(n["d"])(n["a"],null,[Object(n["e"])("div",o,Object(n["x"])(r.msg),1),Object(n["g"])(c)],64)}const i={class:"main",ref:"snakeMainRef"},a={class:"stage",ref:"stageRef"},c={class:"snake",ref:"snakeRef"},l=Object(n["e"])("div",null,null,-1),h=[l],d={class:"food",ref:"foodRef"},u=Object(n["e"])("div",null,null,-1),f=Object(n["e"])("div",null,null,-1),p=Object(n["e"])("div",null,null,-1),b=Object(n["e"])("div",null,null,-1),v=[u,f,p,b],k=Object(n["e"])("div",{class:"score-panel"},[Object(n["e"])("div",null,[Object(n["e"])("span",null,[Object(n["f"])("SCORES: "),Object(n["e"])("span",{id:"scoreId"},"0")])]),Object(n["e"])("div",null,[Object(n["e"])("span",null,[Object(n["f"])("LEVEL: "),Object(n["e"])("span",{id:"levelId"},"1")])])],-1);function y(e,t,s,o,r,l){return Object(n["r"])(),Object(n["d"])("div",i,[Object(n["e"])("div",a,[Object(n["e"])("div",c,h,512),Object(n["e"])("div",d,v,512)],512),k],512)}class O{constructor(e){this.element=e}get X(){return this.element.offsetLeft}get Y(){return this.element.offsetTop}change(){let e=10*Math.floor(29*Math.random()),t=10*Math.floor(29*Math.random());this.element.style.left=e+"px",this.element.style.top=t+"px"}}class j{constructor(e=10,t=2){this.score=0,this.level=1,this.scoreEl=document.getElementById("scoreId"),this.levelEl=document.getElementById("levelId"),this.maxLevel=e,this.upScore=t}addScore(){this.scoreEl.innerHTML=""+ ++this.score,this.score%this.upScore===0&&this.upLevel()}upLevel(){this.level<this.maxLevel&&(this.levelEl.innerHTML=""+ ++this.level)}}s("d9e2");class m{constructor(e){this.snakeRef=e,this.snakeHead=e.children[0],this.snakeBody=e.children}get X(){return this.snakeHead.offsetLeft}get Y(){return this.snakeHead.offsetTop}set X(e){if(this.X!==e){if(e<0||e>290)throw new Error("撞墙了哟");this.snakeBody.length>1&&this.snakeBody[1].offsetLeft===e&&(e=e>this.X?this.X-10:this.X+10),this.moveBody(),this.snakeHead.style.left=e+"px",this.checkHeadBody()}}set Y(e){if(this.Y!==e){if(e<0||e>290)throw new Error("撞墙了哟");this.snakeBody.length>1&&this.snakeBody[1].offsetTop===e&&(e=e>this.Y?this.Y-10:this.Y+10),this.moveBody(),this.snakeHead.style.top=e+"px",this.checkHeadBody()}}addBody(){this.snakeRef.insertAdjacentElement("beforeend",document.createElement("div"))}moveBody(){for(let e=this.snakeBody.length-1;e>=1;e--){let t=this.snakeBody[e-1].offsetLeft,s=this.snakeBody[e-1].offsetTop;this.snakeBody[e].style.left=t+"px",this.snakeBody[e].style.top=s+"px"}}checkHeadBody(){for(let e=1;e<this.snakeBody.length;e++){let t=this.snakeBody[e];if(this.X===t.offsetLeft&&this.Y===t.offsetTop)throw new Error("撞到自己了")}}}class g{constructor(e,t){this.snake=new m(e),this.food=new O(t),this.score=new j,this.direction="ArrowRight",this.isLive=!0,this.init()}init(){document.addEventListener("keydown",this.keyDownHandler.bind(this)),this.snakeRun()}keyDownHandler(e){this.direction=e.key,console.log(e.key)}snakeRun(){let e=this.snake.X,t=this.snake.Y;switch(this.direction){case"ArrowUp":t-=10;break;case"ArrowDown":t+=10;break;case"ArrowLeft":e-=10;break;case"ArrowRight":e+=10;break;default:break}this.checkEat(e,t);try{this.snake.X=e,this.snake.Y=t}catch(s){console.log(s),alert(s.message),this.isLive=!1}this.isLive&&setTimeout(this.snakeRun.bind(this),300-30*(this.score.level-1))}checkEat(e,t){e===this.food.X&&t===this.food.Y&&(console.log("蛇吃到食物了"),this.score.addScore(),this.food.change(),this.snake.addBody())}restart(){}}var w={name:"SnakeGame",setup(){const e=Object(n["u"])(null),t=Object(n["u"])(null);return Object(n["p"])(()=>{new g(t.value,e.value)}),{foodRef:e,snakeRef:t}}},B=(s("079f"),s("6b0d")),L=s.n(B);const E=L()(w,[["render",y]]);var x=E,R={name:"App",components:{SnakeGame:x},setup(){const e=Object(n["u"])("Hello! You can Try by controlling '⬆、⬅、⬇、➡' ");return{msg:e}}};s("e9ab");const S=L()(R,[["render",r]]);var H=S,Y=s("6605");const M=[],T=Object(Y["a"])({history:Object(Y["b"])(),routes:M});var X=T,A=s("5502"),P=Object(A["a"])({state:{},mutations:{},actions:{},modules:{}});Object(n["c"])(H).use(P).use(X).mount("#app")},e1dd:function(e,t,s){},e9ab:function(e,t,s){"use strict";s("e1dd")},fa71:function(e,t,s){}});
//# sourceMappingURL=app.3c2a30e4.js.map